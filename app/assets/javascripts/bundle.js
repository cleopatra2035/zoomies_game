!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var a=2,s=150,o=50,r=50,h=220,l=1,u=function(){function t(e,i,n,s,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dimensions=e,this.image=n,this.ctx=i,this.x=0,this.y=s,this.imageWidth=o,this.speed=r;var u=this.dimensions.width+1*l*a;this.plants=[this.randomPlant(u),this.randomPlant(u+h),this.randomPlant(u+2*h),this.randomPlant(u+3*h)]}var e,i,u;return e=t,(i=[{key:"randomPlant",value:function(t){var e=this.dimensions.height-2*r-s,i=Math.random()*e+r;return{topPlant:{left:t,right:o+t,top:0,bottom:i},bottomPlant:{left:t,right:o+t,top:i+s,bottom:this.dimensions.height},passed:!1}}},{key:"animate",value:function(t){this.drawBackground(t),this.movePlants(),this.drawPlants(t)}},{key:"drawBackground",value:function(t){t.clearRect(0,0,800,300),this.ctx.drawImage(this.image,this.x,this.y),this.ctx.drawImage(this.image,this.x+this.imageWidth,this.y),this.imageWidth<800&&this.ctx.drawImage(this.image,this.x+2*this.imageWidth,this.y),this.x<=-this.imageWidth&&(this.x=0),this.scrollImage()}},{key:"scrollImage",value:function(){this.x-=this.speed}},{key:"passedPlant",value:function(t,e){this.eachPlant((function(i){i.bottomPlant.right<t.left&&(i.passed||(i.passed=!0,e()))}))}},{key:"movePlants",value:function(){if(this.eachPlant((function(t){t.bottomPlant.left-=a,t.bottomPlant.right-=a})),this.plants[0].bottomPlant.right<=0){this.plants.shift();var t=this.plants[1].bottomPlant.left+h;this.plants.push(this.randomPlant(t))}}},{key:"drawPlants",value:function(t){this.eachPlant((function(e){t.fillStyle="rgba(255, 2, 95, 0.7)",t.fillRect(e.bottomPlant.left,e.bottomPlant.top,o,e.bottomPlant.bottom-e.bottomPlant.top)}))}},{key:"eachPlant",value:function(t){this.plants.forEach(t.bind(this))}},{key:"collidesWith",value:function(t){var e=!1;return this.eachPlant((function(i){var n,a;n=i.bottomPlant,a=t,n.left>a.right||n.right<a.left||n.top>a.bottom||n.bottom<a.top||(e=!0)})),e}}])&&n(e.prototype,i),u&&n(e,u),t}();function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=.4,m=8,d=12,y=55,v=65,g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dimensions=e,this.x=this.dimensions.width/3,this.y=this.dimensions.height/2,this.vel=0,this.smiley=new Image,this.smiley.src="http://shyeyez.com/zoomies/assets/coki.png"}var e,i,n;return e=t,(i=[{key:"jump",value:function(){this.vel=-1*m}},{key:"movePlayer",value:function(){this.y+=this.vel,this.vel+=f,Math.abs(this.vel)>d&&(this.vel>0?this.vel=d:this.vel=-1*d)}},{key:"animate",value:function(t){this.movePlayer(),this.drawPlayer(t)}},{key:"drawPlayer",value:function(t){t.drawImage(this.smiley,this.x,this.y,y,v)}},{key:"bounds",value:function(){return{left:this.x,right:this.x+y,top:this.y,bottom:this.y+v}}},{key:"outOfBounds",value:function(){var t=this.y<0,e=this.y+v>this.dimensions.height;return t||e}}])&&c(e.prototype,i),n&&c(e,n),t}();function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.canvas=i,this.backgroundCtx=n,this.dimensions={width:i.width,height:i.height},this.click=this.click.bind(this),this.multiplier=.5,this.registerEvents(),this.restart()}var e,i,n;return e=t,(i=[{key:"play",value:function(){this.running=!0,this.animate()}},{key:"restart",value:function(){this.running=!1,this.score=0,this.player=new g(this.dimensions);var t=new Image;t.src="http://shyeyez.com/zoomies/assets/scrolling_background_dusk.png",this.background=new u(this.dimensions,this.backgroundCtx,t,-30,1438,1.2),this.animate()}},{key:"registerEvents",value:function(){this.canvas.addEventListener("mousedown",this.click)}},{key:"click",value:function(t){this.running||this.play(),this.player.jump()}},{key:"gameOver",value:function(){return this.background.collidesWith(this.player.bounds())||this.player.outOfBounds(this.height)}},{key:"animate",value:function(){this.background.animate(this.ctx),this.player.animate(this.ctx),this.drawScore(this.ctx),this.gameOver()&&(alert(this.score),this.restart()),this.running&&requestAnimationFrame(this.animate.bind(this))}},{key:"drawScore",value:function(t){var e=Math.floor(this.score),i="Score: ".concat(e);t.font="40px VT323",t.strokeStyle="black",t.lineWidth=4,t.fillStyle="white",t.textAlign="left",this.running&&(t.strokeText(i,600,40),t.fillText(i,600,40)),this.incrementScore()}},{key:"incrementScore",value:function(){this.score+=this.multiplier}}])&&p(e.prototype,i),n&&p(e,n),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("dog-game"),e=t.getContext("2d"),i=document.getElementById("background-canvas").getContext("2d");new b(e,t,i)}))}]);
//# sourceMappingURL=bundle.js.map